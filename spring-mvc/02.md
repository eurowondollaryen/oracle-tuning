### 스프링 개발자라면 정말 기본적으로 알아야 할 것 - 설계 및 개발
#### Spring 프로젝트 구성요소
- Controller: web MVC 제어 역할
- Service: 핵심 비즈니스 로직을 구현
- Repository: DB에 접근, 도메인 객체를 DB에 저장한다.
- Domain: 비즈니스 도메인 객체 ex)회원, 주문, 쿠폰 등...

#### 회원 리포지토리 관련
- Domain: Member.java
- Repository(Interface): MemberRepository.java
- Repository: MemoryMemberRepository.java

#### 서비스 테스트
- 직접 실행(main 메서드 실행) 또는 Controller 임의 실행은 준비과정, 반복수행, 여러 테스트 한꺼번에 하는것이 어렵다.
- Junit의 @Test 어노테이션을 사용한다.
- 동일 검증: Assertions.assertEquals(a, b);
- 또는 Assertions.assertThat(a).isEqualTo(b);
> 주의: 테스트 코드는 순서 의존적으로 짜면 안 된다. ex) 테스트 코드 a를 실행하고 나면 테스트 코드 b의 결과에 영향을 미치는 경우
> 여러 테스트 코드에서 공통적으로 접근하는 데이터가 있다면, test가 끝날 때 마다 동일한 상태로 만들어줘야 함.
> 리포지토리를 초기화해주는 코드를 짜고, @AfterEach 어노테이션을 붙여준다.

#### 회원가입 테스트
- testCase 1. Member를 넣고 나서, 조회가 되는지
- testCase 2. 똑같은 Member를 넣었을 때, 중복 오류가 나는지
> try/catch 대신에, 람다식 쓸 수 있다.
> ```assertThrows(IllegalStateException.class, () -> memberService.join(member2));```

#### Dependency Injection 의존성 주입 예시
- Test 클래스 구조
```java
//before DI
MemberService memberService = new MemberService();
MemoryMemberRepository memoryMemberRepository = new MemoryMemberRepository();
```

```java
//after DI
MemberService memberService;
MemoryMemberRepository memberRepository;

//각 테스트 실행 전에 실행
@BeforeEach
public void beforeEach() {
	memberRepository = new MemoryMemberRepository();
	memberService = new MemberService(memberRepository);
}
```